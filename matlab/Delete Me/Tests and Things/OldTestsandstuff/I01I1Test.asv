%initialize surface
testdom = circleDomain(radius = 1.7);
testmetric = circleDomain(radius = 1.7);

testsurf = RiemannSurface(testdom,testmetric, stepType = 'RK4');


%just using a cheap vanishing function (defined at the bottom of this script)
beta = linspace(0,2*pi,200);
alpha = linspace(-pi,pi,200)*0.5;
[betaI,alphaI] = ndgrid(beta,alpha);

i0Data = surf.I0(betaI,alphaI, f);
i1Data = surf.I1(betaI,alphaI, dxf,dyf);





function out = dxf(X,Y)
    out = (2*cos(2*Y)).*ind(X,Y);
end

function out = dyf(X,Y)
    out = (-4*sin(4*X)).*ind(X,Y);
end

function out = f(X,Y)
    out = (cos(4*X)+sin(2*Y)).*ind(X,Y);
end

function out = ind(X,Y)
    out = X.^2+Y.^2 <= 1;
end